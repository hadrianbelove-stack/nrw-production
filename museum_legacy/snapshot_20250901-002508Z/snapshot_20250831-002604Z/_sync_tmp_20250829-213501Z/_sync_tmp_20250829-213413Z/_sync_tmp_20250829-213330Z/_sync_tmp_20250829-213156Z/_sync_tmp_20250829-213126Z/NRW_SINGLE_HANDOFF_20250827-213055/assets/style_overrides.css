/* ---- NRW layout reset (non-destructive) ---- */
:root{
  --bg:#0c0c0f; --card:#17171c; --ink:#eaeaf0; --muted:#a9adba;
  --chip:#22232a; --ring:#2a2c36; --accent:#7ea3ff;
}
html,body{background:var(--bg);color:var(--ink);margin:0}
h1.title{font:600 28px/1.2 system-ui, -apple-system, Segoe UI, Roboto, Arial; margin:20px}

/* grid container the renderer targets */
#cards,.cards,.grid{
  display:grid; grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
  gap:18px; padding:20px; box-sizing:border-box;
}

/* VHS-flip or simple cards — normalize the outside box */
.card, .movie, .flip-card{
  background:var(--card); border:1px solid var(--ring); border-radius:12px;
  overflow:hidden; position:relative; box-shadow:0 1px 0 rgba(255,255,255,.04) inset;
}

/* poster rules that cap size regardless of template */
.card img.poster, .movie img.poster, .flip-card img, .card .poster, .movie .poster {
  width:100%; height:auto; aspect-ratio:2/3; object-fit:cover; display:block;
}

/* content area */
.card .content, .movie .content { padding:12px 12px 14px }
.card h3, .movie h3 { margin:6px 0 8px; font-size:16px; line-height:1.25 }

/* provider chips */
.chips{display:flex;flex-wrap:wrap;gap:6px}
.chip{background:var(--chip); border:1px solid var(--ring); border-radius:999px;
  padding:4px 8px; font-size:12px; color:var(--muted)}
.chip.rt{margin-left:auto}

/* keep flip-card effects intact but prevent giant faces */
.flip-card{perspective:1000px}
.flip-card .flip-card-inner{transform-style:preserve-3d}
.flip-card .flip-card-front, .flip-card .flip-card-back{backface-visibility:hidden}

/* --- hard lock sizing (NRW 8b) --- */
:root{ --card-w:220px; --poster-h:330px; }
.cards,.grid,#cards{
  display:grid; gap:16px;
  grid-template-columns: repeat(auto-fill,minmax(var(--card-w),1fr));
  align-items:start;
}
.card{
  width:100%; max-width:var(--card-w);
  background:#17171c; border:1px solid #2a2c36; border-radius:12px;
  overflow:hidden; box-shadow:0 2px 10px rgba(0,0,0,.35);
}
.card .poster{
  display:block; width:100%; height:var(--poster-h);
  object-fit:cover; aspect-ratio: 2 / 3; background:#111;
}
.card .body{ padding:10px 12px; }
.card .title{ margin:6px 0 8px; font-weight:600; line-height:1.2; }
.chips{ display:flex; flex-wrap:wrap; gap:6px; }
.chip{ padding:.2rem .5rem; border-radius:999px; background:#22232a; color:#cfd3dc; font-size:.8rem }
.chip.rt{ background:#2a2c36; }
header h1, .title-bar h1, h1.title { margin: 14px 0 18px; font-size: 28px; }

.nrw-poster-fixed{width:220px;height:330px;object-fit:cover;display:block}

/* 9c — visibility + sizing guards */
.card, .flip-card { position: relative; }
.card .poster, .flip-card .front .poster { display:block; width:100%; height:330px; overflow:hidden; }
.card .poster img,
.flip-card .front .poster img { display:block; width:100%; height:100%; object-fit:cover; }

.flip-card .front { backface-visibility: hidden; transform: translateZ(0); }
.flip-card .back  { backface-visibility: hidden; transform: translateZ(0); }
.flip-card .front, .flip-card .back { position: relative; z-index: 0; }
.flip-card .front .poster { z-index: 1; }

.cards, .grid, #cards { 
  display:grid; grid-template-columns:repeat(auto-fill,minmax(220px,1fr)); gap:16px;
  align-items:start;
}

h1.title { margin: 16px 12px 8px; font-weight:700; }
